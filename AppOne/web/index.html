<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>AJAX With jQuery copy</title>
    <link rel="stylesheet" href="assets/css/bootstrap.min.css">

</head>
<body>

<!--File Type JSON-->
<h1>Hello JSON type | jQuery...!</h1>

<!--customer Save-->
<div class="row-mt-3" >
    <div class="col-5">
        <form action="customer" method="POST">
            <div class="mb-3">
                <label for="CusID" class="form-label">Customer ID </label>
                <input type="text" class="form-control" id="cusID" placeholder="Customer ID" name="customerID">
            </div>

            <div class="mb-3">
                <label for="cusName" class="form-label">Customer Name </label>
                <input type="text" class="form-control" id="cusName" placeholder="Customer ID" name="customerName">
            </div>

            <div class="mb-3">
                <label for="cusAddress" class="form-label">Customer Address </label>
                <input type="text" class="form-control" id="cusAddress" placeholder="Customer ID" name="customerAddress">
            </div>

            <div class="mb-3">
                <label for="cusSalary" class="form-label">Customer Salary </label>
                <input type="text" class="form-control" id="cusSalary" placeholder="Customer ID" name="customerSalary">
            </div>

            <div class="mb-3">
                <button type="submit" class="btn btn-primary">Save Customer</button>
            </div>

        </form>


    </div>
</div>


<button id="btnClick" type="button" class="btn btn-outline-warning">Save a Request JSON</button>

<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>


<script>

    //////////////////////////JSON////////////////////////////////////

    $("#btnClick").click(function () {
        $("#tblCustomerJSON").empty();
        $.ajax({
            url: "http://localhost:8080/appone/customer",
            method: "GET",
            //dataType: "JSON", //Please Convert the Response into JSON
            success: function (resp) {
                console.log(typeof resp);
                console.log(resp);

                for (const customer of resp) {
                    /*customer.id;
                    customer.name;
                    customer.address;
                    customer.salary;*/

                    let row = `<tr><td>${customer.id}</td><td>${customer.name}</td><td>${customer.address}</td><td>${customer.salary}</td></tr>`
                    $("#tblCustomerJSON").append(row);
                }
            }
        })
    })
</script>
<table class="table table-hover table-info">
    <thead>
    <tr>
        <th scope="col">ID</th>
        <th scope="col">NAME</th>
        <th scope="col">ADDRESS</th>
        <th scope="col">SALARY</th>
    </tr>
    </thead>
    <tbody id="tblCustomerJSON">
    <tr></tr>
    </tbody>
</table>
</body>
</html>